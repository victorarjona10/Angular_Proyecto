<div class="table-container">
  <!-- Tabla -->
  <div class="table-section">
    <input
      type="text"
      placeholder="Buscar..."
      [(ngModel)]="searchText"
      (ngModelChange)="onSearchChange()"
      class="search-input"
    />

    <table>
      <thead>
        <tr>
          <th *ngFor="let column of columns" (click)="sortData(column.key)">
            {{ column.label }}
            <span *ngIf="sortColumn === column.key">
              {{ sortDirection === "asc" ? "▲" : "▼" }}
            </span>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let item of paginatedData"
          (mouseover)="selectEtiqueta(item)"
        >
          <td
            *ngFor="let column of columns"
            [ngClass]="{ inactive: !item.Flag && column.key !== 'flag' }"
          >
            <ng-container *ngIf="column.key !== 'flag'">
              {{ item[column.key] }}
            </ng-container>
            <ng-container *ngIf="column.key === 'flag'">
              <div class="button-container">
                <button
                  (click)="inactivateUser(item); $event.stopPropagation()"
                >
                  X
                </button>
                <button (click)="activateUser(item); $event.stopPropagation()">
                  O
                </button>
                <button (click)="editUser(item); $event.stopPropagation()">
                  Modificar
                </button>
              </div>
            </ng-container>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Información de la etiqueta -->
  <div class="details-section" *ngIf="selectedEtiqueta">
    <h2>Detalles de la Etiqueta</h2>
    <ul>
      <li><strong>ID:</strong> {{ selectedEtiqueta._id }}</li>
      <li><strong>Nombre:</strong> {{ selectedEtiqueta.name }}</li>
      <li><strong>Descripción:</strong> {{ selectedEtiqueta.description }}</li>
      <li><strong>Creado el:</strong> {{ selectedEtiqueta.createdAt }}</li>
    </ul>
  </div>
</div>
